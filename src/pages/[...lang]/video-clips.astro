---
import { useTranslations } from "../../i18n/utils";
import { getImage } from "astro:assets";
import malinkiLogoBg from "../../images/malinki-logo-bg.png";

export function getStaticPaths() {
  return [
    { params: { lang: undefined } }, // French (default)
    { params: { lang: "en" } }, // English
  ];
}

const { lang } = Astro.params;
const currentLang = (lang || "fr") as "fr" | "en";
const t = useTranslations(currentLang);

const siteUrl = Astro.site?.href || "https://malinki.pages.dev";
const currentUrl = `${siteUrl}/${currentLang === "en" ? "en/" : ""}video-clips`;
const ogImage = await getImage({
  src: malinkiLogoBg,
  width: 1200,
  height: 630,
});
const ogImageUrl = new URL(ogImage.src, siteUrl).href;
const pageTitle = `${t("video_clips.title")} - Malinki`;
const pageDescription = "Vidéoclips musicaux créatifs - Malinki";

// Page configuration
const pageConfig = {
  gifs: [
    "https://cdn.shopify.com/s/files/1/0599/0714/5937/files/TenPastTwo_1080p.gif?v=1722285971",
    "https://cdn.shopify.com/s/files/1/0599/0714/5937/files/Alanna_Clip_1080p.gif?v=1721082172",
    "https://cdn.shopify.com/s/files/1/0599/0714/5937/files/Visrei_gif.gif?v=1705526050",
    "https://cdn.shopify.com/s/files/1/0599/0714/5937/files/Junes_GIF.gif?v=1708108221",
    "https://cdn.shopify.com/s/files/1/0599/0714/5937/files/Amadouemoi_GIF.gif?v=1708108220",
    "https://cdn.shopify.com/s/files/1/0599/0714/5937/files/RaymondEstMort_GIF.gif?v=1708108532",
    "https://cdn.shopify.com/s/files/1/0599/0714/5937/files/KingMelrose_GIF.gif?v=1708118139",
  ],
  links: {
    cta: `/${currentLang === "fr" ? "" : "en/"}contact`,
  },
};

import "../../styles/global.css";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
---

<html lang={currentLang} class="h-full">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{pageTitle}</title>
    <meta name="description" content={pageDescription} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={currentUrl} />
    <meta property="og:title" content={pageTitle} />
    <meta property="og:description" content={pageDescription} />
    <meta property="og:image" content={ogImageUrl} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta
      property="og:locale"
      content={currentLang === "en" ? "en_US" : "fr_CA"}
    />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content={currentUrl} />
    <meta name="twitter:title" content={pageTitle} />
    <meta name="twitter:description" content={pageDescription} />
    <meta name="twitter:image" content={ogImageUrl} />
  </head>
  <body class="min-h-full w-full font-['Montserrat'] bg-[#E6F5F7]">
    <Header lang={currentLang} />

    <div class="w-full flex flex-col 2xl:max-w-[1600px] mx-auto">
      <div
        class="mx-auto pt-5 lg:pt-20 text-[#135560]"
        style="font-family: 'Rotunda Black', Montserrat, sans-serif;"
      >
        <!-- Hero Section -->
        <div
          class="px-3 lg:px-10 animate__animated animate__fast animate__fadeIn"
        >
          <div class="w-full lg:w-3/4">
            <p
              class="text-4xl md:text-5xl xl:text-6xl 2xl:text-7xl font-bold text-[#083e44] mb-8 leading-tight"
            >
              {t("video_clips.title")}
            </p>
          </div>
          <div class="w-full lg:w-2/3 mt-5 md:mt-0">
            <div
              class="text-lg md:text-xl xl:text-xl 2xl:text-2xl font-medium mb-8"
            >
              {t("video_clips.description")}
            </div>
            <a
              href={pageConfig.links.cta}
              class="inline-block text-white font-bold text-base md:text-lg xl:text-xl 2xl:text-2xl px-6 md:px-8 py-3 md:py-4 rounded-xl shadow-sm transition-colors duration-200 uppercase tracking-wide"
              style="background-color: #083e44;"
            >
              {t("video_clips.cta_text")}
            </a>
          </div>
        </div>

        <!-- GIF Gallery -->
        <div
          class="px-3 lg:px-10 pt-16 lg:pt-28 animate__animated animate__fadeIn"
        >
          <p
            class="text-2xl md:text-3xl xl:text-4xl 2xl:text-5xl font-extrabold uppercase text-[#083e44] mb-6"
          >
            {t("video_clips.gallery_title")}
          </p>

          <!-- First row: 3 GIFs -->
          <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mt-8"
          >
            {
              pageConfig.gifs.slice(0, 3).map((gifUrl, index) => (
                <div class="aspect-square w-full">
                  <img
                    src={gifUrl}
                    alt={t(`video_clips.gif_${index + 1}_alt`)}
                    class="w-full h-full rounded-lg object-cover"
                    loading="lazy"
                  />
                </div>
              ))
            }
          </div>

          <!-- Second row: 4 GIFs -->
          <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mt-8"
          >
            {
              pageConfig.gifs.slice(3, 7).map((gifUrl, index) => (
                <div class="aspect-square w-full">
                  <img
                    src={gifUrl}
                    alt={t(`video_clips.gif_${index + 4}_alt`)}
                    class="w-full h-full rounded-lg object-cover"
                    loading="lazy"
                  />
                </div>
              ))
            }
          </div>
        </div>

        <!-- Final CTA -->
        <div
          class="px-3 lg:px-10 pt-16 lg:pt-28 mb-20 animate__animated animate__fadeIn"
        >
          <div class="text-left">
            <p
              class="text-lg md:text-xl xl:text-2xl 2xl:text-3xl mt-6 font-extrabold"
            >
              {t("video_clips.contact_cta_text")}
            </p>
            <div class="mt-10">
              <a
                href={pageConfig.links.cta}
                class="text-lg md:text-xl xl:text-2xl 2xl:text-3xl inline-block text-white font-bold px-6 md:px-8 py-3 md:py-4 rounded-xl shadow-sm transition-colors duration-200 uppercase tracking-wide"
                style="background-color: #083e44;"
              >
                {t("video_clips.contact_cta_button_text")}
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <Footer />
  </body>
</html>
